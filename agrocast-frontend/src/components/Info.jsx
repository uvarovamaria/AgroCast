import { useState } from "react";
import "./Info.css";

export default function Info() {
  const [showSpiTech, setShowSpiTech] = useState(false);
  const [showScaleTech, setShowScaleTech] = useState(false);
  const [showForecastTech, setShowForecastTech] = useState(false);

  return (
    <div className="info-page">
      <h1>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è AgroCast –∏ —á—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏</h1>

      {/* –ë–ª–æ–∫ 1. –ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞ –¥–ª—è —Ñ–µ—Ä–º–µ—Ä–∞ */}
      <section>
        <h2>–ë—ã—Å—Ç—Ä–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞</h2>
        <p>
          –ù–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –≤—ã –≤–∏–¥–∏—Ç–µ –∫—Ä—É–ø–Ω—ã–π —Å—Ç–∞—Ç—É—Å –≤–ª–∞–≥–∏ –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ä—Ç–æ—á–µ–∫
          —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏. –≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ, –¥–∞–∂–µ –µ—Å–ª–∏
          –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ —Ç–∞–∫–æ–µ SPI.
        </p>

        <div className="info-cheatsheet-grid">
          <div className="info-cheat-card info-cheat-card--dry">
            <h3>üåµ –ú–∞–ª–æ –≤–ª–∞–≥–∏</h3>
            <ul>
              <li>—á–∞—â–µ —Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏–π;</li>
              <li>–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —ç–∫–æ–Ω–æ–º–∏—Ç—å –≤–ª–∞–≥—É (–º–µ–Ω—å—à–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ—Ö–æ–¥–æ–≤ —Ç–µ—Ö–Ω–∏–∫–∏);</li>
              <li>–Ω–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–±–∞–≤–∫–∏ –æ—Ç –¥–æ—Ä–æ–≥–∏—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫.</li>
            </ul>
          </div>

          <div className="info-cheat-card info-cheat-card--ok">
            <h3>‚úÖ –í–ª–∞–≥–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ</h3>
            <ul>
              <li>—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ –æ–±—ã—á–Ω–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏;</li>
              <li>–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥–∫–æ—Ä–º–∫–∏ –ø–æ –≥—Ä–∞—Ñ–∏–∫—É;</li>
              <li>–≤—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å–º–æ—Ç—Ä–µ—Ç—å —Ç—Ä–µ–Ω–¥: –Ω–µ —É—Ö–æ–¥–∏—Ç –ª–∏ –≤ –∑–∞—Å—É—Ö—É –∏–ª–∏ —Å—ã—Ä–æ—Å—Ç—å.</li>
            </ul>
          </div>

          <div className="info-cheat-card info-cheat-card--wet">
            <h3>üíß –°–ª–∏—à–∫–æ–º –≤–ª–∞–∂–Ω–æ</h3>
            <ul>
              <li>–æ—Å—Ç–æ—Ä–æ–∂–Ω–µ–µ —Å —Ç—è–∂—ë–ª–æ–π —Ç–µ—Ö–Ω–∏–∫–æ–π (–Ω–µ –¥–µ–ª–∞—Ç—å –∫–æ–ª–µ–∏ –∏ ¬´–ø–ª–∞—Å—Ç–∏–ª–∏–Ω¬ª);</li>
              <li>—É—Å–∏–ª–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª–µ–∑–Ω–µ–π;</li>
              <li>–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–¥–∫–∏–µ —Å—É—Ö–∏–µ –æ–∫–Ω–∞ –¥–ª—è –≤–∞–∂–Ω–µ–π—à–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.</li>
            </ul>
          </div>
        </div>
      </section>

      {/* –ë–ª–æ–∫ 2. –ß—Ç–æ —Ç–∞–∫–æ–µ SPI */}
      <section>
        <h2>–ß—Ç–æ —Ç–∞–∫–æ–µ SPI (–∏–Ω–¥–µ–∫—Å –æ—Å–∞–¥–∫–æ–≤) –≤ –ø–æ–Ω—è—Ç–Ω–æ–º –≤–∏–¥–µ</h2>
        <p>
          <strong>SPI</strong> ‚Äî —ç—Ç–æ –ø—Ä–æ —Ç–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ{" "}
          <em>—Å–µ–π—á–∞—Å —Å—É—Ö–æ –∏–ª–∏ –º–æ–∫—Ä–æ</em> –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–±—ã—á–Ω—ã–º–∏ –≥–æ–¥–∞–º–∏ –≤ —ç—Ç–æ–π
          —Ç–æ—á–∫–µ –∏ –¥–ª—è —ç—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≥–æ–¥–∞.
        </p>
        <ul>
          <li>
            SPI &lt; 0 ‚Äî —Å—É—Ö–æ–≤–∞—Ç–æ, —á–µ–º –º–µ–Ω—å—à–µ, —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ –∑–∞—Å—É—Ö–∞.
          </li>
          <li>
            SPI ‚âà 0 ‚Äî –±–ª–∏–∑–∫–æ –∫ –Ω–æ—Ä–º–µ.
          </li>
          <li>
            SPI &gt; 0 ‚Äî –≤–ª–∞–∂–Ω–µ–µ, —á–µ–º –æ–±—ã—á–Ω–æ.
          </li>
        </ul>
        <p>
          –ú—ã –Ω–µ –∑–∞—Å—Ç–∞–≤–ª—è–µ–º –≤–∞—Å —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –≤ —Ü–∏—Ñ—Ä–∞—Ö: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∏—Ö –≤
          —Å—Ç–∞—Ç—É—Å—ã ¬´–ú–∞–ª–æ –≤–ª–∞–≥–∏ / –í–ª–∞–≥–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ / –°–ª–∏—à–∫–æ–º –≤–ª–∞–∂–Ω–æ¬ª –∏ –≤—ã–¥–∞—ë—Ç
          —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏.
        </p>

        <button
          type="button"
          className="info-toggle"
          onClick={() => setShowSpiTech((v) => !v)}
        >
          {showSpiTech
            ? "–°–∫—Ä—ã—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ SPI"
            : "–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ SPI"}
        </button>

        {showSpiTech && (
          <div className="info-details">
            <h3>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: –∫–∞–∫ –º—ã —Å—á–∏—Ç–∞–µ–º SPI</h3>
            <p>
              –ù–∞ –±—ç–∫–µ–Ω–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º–µ—Ç–æ–¥–∏–∫–∞ WMO (–í–ú–û) –¥–ª—è
              –∏–Ω–¥–µ–∫—Å–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –æ—Å–∞–¥–∫–æ–≤:
            </p>
            <ol>
              <li>
                –ë–µ—Ä—ë–º —Å—É—Ç–æ—á–Ω—ã–µ –æ—Å–∞–¥–∫–∏ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏—Å—Ç–æ—Ä–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä,
                –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –ª–µ—Ç) –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º —Ç–æ—á–∫–∏.
              </li>
              <li>
                –°–∫–ª–∞–¥—ã–≤–∞–µ–º –æ—Å–∞–¥–∫–∏ –≤{" "}
                <strong>—Å–∫–æ–ª—å–∑—è—â–µ–º –æ–∫–Ω–µ –¥–ª–∏–Ω–æ–π N –º–µ—Å—è—Ü–µ–≤</strong> (–≤ –∫–æ–¥–µ
                –ø—Ä–∏–Ω–∏–º–∞–µ–º 30 –¥–Ω–µ–π –Ω–∞ –º–µ—Å—è—Ü: N√ó30).
              </li>
              <li>
                –ü–æ —Ä—è–¥—É —Å—É–º–º –æ—Å–∞–¥–∫–æ–≤ –æ—Ü–µ–Ω–∏–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã{" "}
                <strong>–≥–∞–º–º–∞-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</strong> (—Ñ—É–Ω–∫—Ü–∏—è{" "}
                <code>gamma.fit</code> –∏–∑ SciPy, —Ç–æ–ª—å–∫–æ –ø–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º
                –∑–Ω–∞—á–µ–Ω–∏—è–º).
              </li>
              <li>
                –ö–∞–∂–¥—É—é —Å—É–º–º—É –æ—Å–∞–¥–∫–æ–≤ –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (CDF –≥–∞–º–º–∞), –∑–∞—Ç–µ–º
                –≤ –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —à–∫–∞–ª—É —á–µ—Ä–µ–∑ <code>norm.ppf</code>. –ü–æ–ª—É—á–∞–µ–º —Ä—è–¥
                SPI.
              </li>
            </ol>
            <p>
              –í —Ñ–∞–π–ª–µ <code>services/spi.py</code> —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ñ—É–Ω–∫—Ü–∏–µ–π{" "}
              <code>_compute_spi_series_from_sums</code>, –∫–æ—Ç–æ—Ä—É—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç
              <code>compute_spi_for_point</code> –∏{" "}
              <code>compute_spi_forecast_for_point</code>.
            </p>
            <p>
              –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è SPI (—Ñ—É–Ω–∫—Ü–∏—è <code>categorize_spi</code>) –¥–∞—ë—Ç
              —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
            </p>
            <ul>
              <li>
                SPI ‚â§ ‚àí2.0 ‚Äî <strong>¬´—ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –∑–∞—Å—É—Ö–∞¬ª</strong>;
              </li>
              <li>
                ‚àí2.0 &lt; SPI ‚â§ ‚àí1.5 ‚Äî <strong>¬´—Å–∏–ª—å–Ω–∞—è –∑–∞—Å—É—Ö–∞¬ª</strong>;
              </li>
              <li>
                ‚àí1.5 &lt; SPI ‚â§ ‚àí1.0 ‚Äî <strong>¬´—É–º–µ—Ä–µ–Ω–Ω–∞—è –∑–∞—Å—É—Ö–∞¬ª</strong>;
              </li>
              <li>
                ‚àí1.0 &lt; SPI ‚â§ ‚àí0.5 ‚Äî{" "}
                <strong>¬´—Å–ª–∞–±–æ –∑–∞—Å—É—à–ª–∏–≤—ã–µ —É—Å–ª–æ–≤–∏—è¬ª</strong>;
              </li>
              <li>
                ‚àí0.5 &lt; SPI &lt; 0.5 ‚Äî{" "}
                <strong>¬´–Ω–æ—Ä–º–∞ –ø–æ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏¬ª</strong>;
              </li>
              <li>
                0.5 ‚â§ SPI &lt; 1.0 ‚Äî <strong>¬´—Å–ª–∞–±–æ –≤–ª–∞–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è¬ª</strong>;
              </li>
              <li>
                1.0 ‚â§ SPI &lt; 1.5 ‚Äî{" "}
                <strong>¬´—É–º–µ—Ä–µ–Ω–Ω–æ –≤–ª–∞–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è¬ª</strong>;
              </li>
              <li>
                SPI ‚â• 1.5 ‚Äî <strong>¬´–æ—á–µ–Ω—å –≤–ª–∞–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è¬ª</strong>.
              </li>
            </ul>
            <p>
              –ù–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±—ç–∫–µ–Ω–¥ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π
              (—Ñ—É–Ω–∫—Ü–∏–∏ <code>generate_recommendations</code> –∏{" "}
              <code>generate_forecast_recommendations</code>).
            </p>
          </div>
        )}
      </section>

      {/* –ë–ª–æ–∫ 3. –ü–µ—Ä–∏–æ–¥—ã 1 / 3 / 6 –º–µ—Å—è—Ü–µ–≤ */}
      <section>
        <h2>–ó–∞—á–µ–º —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã SPI: –∑–∞ 1, 3 –∏ 6 –º–µ—Å—è—Ü–µ–≤</h2>
        <p>
          –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ ¬´–ö–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å –∑–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã¬ª –≤—ã –≤–∏–¥–∏—Ç–µ —Ç—Ä–∏
          ¬´—á–∏–ø–∞¬ª:
        </p>
        <ul>
          <li>
            <strong>–ó–∞ 1 –º–µ—Å—è—Ü</strong> ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –ø–æ–≥–æ–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö
            –Ω–µ–¥–µ–ª—å –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≤–µ—Ä—Ö–Ω–∏—Ö —Å–ª–æ—è—Ö –ø–æ—á–≤—ã.
          </li>
          <li>
            <strong>–ó–∞ 3 –º–µ—Å—è—Ü–∞</strong> ‚Äî —Å–≥–ª–∞–∂–µ–Ω–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –∑–∞ —Å–µ–∑–æ–Ω: –ø–æ–º–æ–≥–∞–µ—Ç
            –æ—Ü–µ–Ω–∏—Ç—å —Ä–∏—Å–∫–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Ñ–∞–∑–∞–º –∫—É–ª—å—Ç—É—Ä.
          </li>
          <li>
            <strong>–ó–∞ 6 –º–µ—Å—è—Ü–µ–≤</strong> ‚Äî —Ñ–æ–Ω: –±—ã–ª –ª–∏ —Å–µ–∑–æ–Ω –≤ —Ü–µ–ª–æ–º —Å—É—Ö–∏–º –∏–ª–∏
            –≤–ª–∞–∂–Ω—ã–º.
          </li>
        </ul>
        <p>
          –ï—Å–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ ¬´—Å—É—Ö–æ¬ª –ø–æ 1 –∏ 3 –º–µ—Å—è—Ü–∞–º ‚Äî —ç—Ç–æ —É–∂–µ —É—Å—Ç–æ–π—á–∏–≤–∞—è
          –∑–∞—Å—É—Ö–∞. –ï—Å–ª–∏ —Å—É—Ö–æ —Ç–æ–ª—å–∫–æ –ø–æ 1 –º–µ—Å—è—Ü—É, –∞ –ø–æ 3 –º–µ—Å—è—Ü–∞–º ‚Äî –Ω–æ—Ä–º–∞, —ç—Ç–æ
          –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–ª –æ—Å–∞–¥–∫–æ–≤.
        </p>

        <button
          type="button"
          className="info-toggle"
          onClick={() => setShowScaleTech((v) => !v)}
        >
          {showScaleTech
            ? "–°–∫—Ä—ã—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å –ø—Ä–æ –ø–µ—Ä–∏–æ–¥—ã"
            : "–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é —á–∞—Å—Ç—å –ø—Ä–æ –ø–µ—Ä–∏–æ–¥—ã"}
        </button>

        {showScaleTech && (
          <div className="info-details">
            <h3>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º—É–ª—å—Ç–∏-–º–∞—Å—à—Ç–∞–±–Ω—ã–π SPI</h3>
            <p>
              –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ –¥—ë—Ä–≥–∞—Ç—å –≤–Ω–µ—à–Ω–µ–µ –ø–æ–≥–æ–¥–Ω–æ–µ API –ª–∏—à–Ω–∏–π —Ä–∞–∑, –º—ã
              –¥–æ–±–∞–≤–∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é{" "}
              <code>compute_multi_scale_spi_for_point</code> –≤{" "}
              <code>services/spi.py</code>.
            </p>
            <p>–û–Ω–∞ –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:</p>
            <ol>
              <li>
                –û–¥–∏–Ω —Ä–∞–∑ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ä—è–¥ —Å—É—Ç–æ—á–Ω—ã—Ö –æ—Å–∞–¥–∫–æ–≤{" "}
                <code>fetch_daily_precipitation</code> –∑–∞ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–µ—Ç.
              </li>
              <li>
                –î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–∫–Ω–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ <code>scales_months</code> (–Ω–∞–ø—Ä–∏–º–µ—Ä,
                1, 3, 6 –º–µ—Å—è—Ü–µ–≤) –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∑—è—â—É—é —Å—É–º–º—É –æ—Å–∞–¥–∫–æ–≤ –∏ SPI.
              </li>
              <li>
                –î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å{" "}
                <code>&#123;"spi": float, "category": str&#125;</code>.
              </li>
            </ol>
            <p>
              –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç{" "}
              <code>/spi/multi-by-coords</code>, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤
              –≤–∏–¥–µ —Ç—Ä—ë—Ö –∫–∞—Ä—Ç–æ—á–µ–∫-—á–∏–ø–æ–≤ —Å –ø–æ–¥–ø–∏—Å—å—é ¬´–ó–∞ N –º–µ—Å. / —Å—Ç–∞—Ç—É—Å / SPI¬ª.
            </p>
          </div>
        )}
      </section>

      {/* –ë–ª–æ–∫ 4. –ü—Ä–æ–≥–Ω–æ–∑: –±–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏ –∏ –º–µ—Å—è—Ü –≤–ø–µ—Ä—ë–¥ */}
      <section>
        <h2>–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–≥–Ω–æ–∑: –±–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏ –∏ –º–µ—Å—è—Ü –≤–ø–µ—Ä—ë–¥</h2>
        <p>
          –ù–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –±–ª–æ–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞:
        </p>
        <ul>
          <li>
            <strong>¬´–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏¬ª</strong> ‚Äî –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–≥–Ω–æ–∑–∞
            –æ—Å–∞–¥–∫–æ–≤ (Open-Meteo).
          </li>
          <li>
            <strong>¬´–ü—Ä–æ–≥–Ω–æ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–ª–∞–≥–∏ –Ω–∞ –º–µ—Å—è—Ü¬ª</strong> ‚Äî –Ω–∞ –æ—Å–Ω–æ–≤–µ
            —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ SARIMA –ø–æ —Ä—è–¥—É SPI.
          </li>
        </ul>
        <p>
          –î–ª—è —Ñ–µ—Ä–º–µ—Ä–∞ —ç—Ç–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç–æ–π –≤–æ–ø—Ä–æ—Å: ¬´–ï—Å–ª–∏ –ø–æ–≥–æ–¥–∞ –±—É–¥–µ—Ç –∫–∞–∫
          –æ–±—ã—á–Ω–æ (–ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ), —á—Ç–æ –Ω–∞—Å –∂–¥—ë—Ç —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü?¬ª –∏ ¬´–ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏
          —Å–±—É–¥–µ—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –ø—Ä–æ–≥–Ω–æ–∑ –¥–æ–∂–¥–µ–π?¬ª ‚Äî –∏ –¥–∞–ª—å—à–µ —Å–∏—Å—Ç–µ–º–∞ –¥–∞—ë—Ç —Å–æ–≤–µ—Ç—ã,
          –∫–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è.
        </p>

        <button
          type="button"
          className="info-toggle"
          onClick={() => setShowForecastTech((v) => !v)}
        >
          {showForecastTech
            ? "–°–∫—Ä—ã—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞"
            : "–ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–∞"}
        </button>

        {showForecastTech && (
          <div className="info-details">
            <h3>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏: –¥–≤–∞ —Ç–∏–ø–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞</h3>

            <h4>1. –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏ (Open-Meteo)</h4>
            <p>
              –§—É–Ω–∫—Ü–∏—è <code>compute_spi_forecast_for_point</code> –¥–µ–ª–∞–µ—Ç
              —Å–ª–µ–¥—É—é—â–µ–µ:
            </p>
            <ol>
              <li>
                –ë–µ—Ä—ë—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –æ—Å–∞–¥–∫–∏ (&nbsp;
                <code>fetch_daily_precipitation</code>&nbsp;).
              </li>
              <li>
                –ë–µ—Ä—ë—Ç –ø—Ä–æ–≥–Ω–æ–∑ —Å—É—Ç–æ—á–Ω—ã—Ö –æ—Å–∞–¥–∫–æ–≤ (&nbsp;
                <code>fetch_daily_precipitation_forecast</code>&nbsp;) –Ω–∞
                –∑–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –¥–Ω–µ–π (–¥–æ 16).
              </li>
              <li>
                –°–∫–ª–µ–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –∏ –ø—Ä–æ–≥–Ω–æ–∑, –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—É–º–º—ã –∏,
                –∏—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–∞–º–º–∞-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–æ
                –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –¥–∞–Ω–Ω—ã–º, —Å—Ç—Ä–æ–∏—Ç –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã–π —Ä—è–¥ SPI.
              </li>
            </ol>
            <p>
              –≠–Ω–¥–ø–æ–∏–Ω—Ç <code>/spi/forecast-by-coords</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–æ—Ç —Ä—è–¥
              –≤–º–µ—Å—Ç–µ —Å –∏—Å—Ç–æ—Ä–∏–µ–π, –∞ —Ñ—Ä–æ–Ω—Ç —Ä–∏—Å—É–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –∏ —Ç–∞–±–ª–∏—Ü—É –ø–æ –¥–Ω—è–º.
            </p>

            <h4>2. –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –º–µ—Å—è—Ü –≤–ø–µ—Ä—ë–¥ (SARIMA)</h4>
            <p>
              –í —Ñ—É–Ω–∫—Ü–∏–∏ <code>forecast_spi</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è{" "}
              <code>SARIMAX</code> –∏–∑ <code>statsmodels</code>:
            </p>
            <ul>
              <li>
                —Ä—è–¥ SPI –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –¥–Ω–µ–≤–Ω–æ–º—É —à–∞–≥—É{" "}
                (<code>.asfreq("D").interpolate()</code>);
              </li>
              <li>
                —Å—Ç—Ä–æ–∏—Ç—Å—è –º–æ–¥–µ–ª—å SARIMA —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏{" "}
                <code>order=(1,0,1)</code>,{" "}
                <code>seasonal_order=(1,0,1,30)</code>;
              </li>
              <li>
                –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ—Ç—Å—è SPI –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –¥–Ω–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30) –∏
                –±–µ—Ä—ë—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
              </li>
            </ul>
            <p>
              –§—É–Ω–∫—Ü–∏—è <code>categorize_spi_forecast</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ
              —à–∫–∞–ª—É, —á—Ç–æ –∏ –¥–ª—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ SPI, –∞{" "}
              <code>generate_forecast_recommendations</code> –¥–∞—ë—Ç —Å–æ–≤–µ—Ç—ã –∏–º–µ–Ω–Ω–æ
              —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: —á—Ç–æ –∑–∞—Ä–∞–Ω–µ–µ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å, –∫–∞–∫–∏–µ
              —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø—Ä–æ–¥—É–º–∞—Ç—å.
            </p>
          </div>
        )}
      </section>

      {/* –ë–ª–æ–∫ 5. –ö–∞–∫ —á–∏—Ç–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ */}
      <section>
        <h2>–ö–∞–∫ —á–∏—Ç–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ</h2>
        <p>–ì–ª–∞–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –∫–∞–∫ –∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è:</p>
        <ul>
          <li>
            <strong>–°—Ç–∞—Ç—É—Å–Ω–∞—è –ø–ª–∞—à–∫–∞</strong> (¬´–ú–∞–ª–æ –≤–ª–∞–≥–∏ / –í–ª–∞–≥–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ /
            –°–ª–∏—à–∫–æ–º –≤–ª–∞–∂–Ω–æ¬ª) ‚Äî –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –≤–ª–∞–≥–æ–π
            —Å–µ–π—á–∞—Å.
          </li>
          <li>
            <strong>–ß–∏—Å–ª–æ SPI –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è</strong> ‚Äî –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –¥–ª—è
            –∞–≥—Ä–æ–Ω–æ–º–∞ –∏–ª–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞ (–Ω–∞ –∑–∞—â–∏—Ç–µ –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ
            —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å –ø–æ –º–µ—Ç–æ–¥–∏–∫–µ –í–ú–û).
          </li>
          <li>
            <strong>–¢—Ä–∏ —á–∏–ø–∞ SPI –∑–∞ 1 / 3 / 6 –º–µ—Å—è—Ü–µ–≤</strong> ‚Äî –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å,
            –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–∞—è —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –∏–ª–∏ —Å–µ–∑–æ–Ω–Ω—ã–π —Ç—Ä–µ–Ω–¥.
          </li>
          <li>
            <strong>¬´–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è¬ª</strong> ‚Äî —á—Ç–æ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —Å–¥–µ–ª–∞—Ç—å
            –≤ —Ç–µ–∫—É—â–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö (—á–∞—Å—Ç–æ—Ç–∞ –æ–±—Ö–æ–¥–æ–≤, –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å —Å —Ç–µ—Ö–Ω–∏–∫–æ–π,
            –ø–µ—Ä–µ—Å–º–æ—Ç—Ä –∑–∞—Ç—Ä–∞—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π).
          </li>
          <li>
            <strong>¬´–ö–∞–∫ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è¬ª</strong> (–≤ –±–ª–æ–∫–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –Ω–∞ –º–µ—Å—è—Ü) ‚Äî
            —Å—Ü–µ–Ω–∞—Ä–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø—Ä–∏ –æ–∂–∏–¥–∞–µ–º–æ–π –∑–∞—Å—É—Ö–µ –∑–∞—Ä–∞–Ω–µ–µ –¥—É–º–∞—Ç—å –ø—Ä–æ
            –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –ø–æ–ª–∏–≤–∞, –ø—Ä–∏ —Å—ã—Ä–æ—Å—Ç–∏ ‚Äî –ø—Ä–æ –±–æ–ª–µ–∑–Ω–∏ –∏ –æ–∫–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç.
          </li>
        </ul>
        <p>
          –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ñ–µ—Ä–º–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –∏ –Ω–∞–≥–ª—è–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞ —ç–∫—Å–ø–µ—Ä—Ç
          –Ω–∞ –∑–∞—â–∏—Ç–µ –º–æ–∂–µ—Ç ¬´–ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è¬ª –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ SPI, –æ–∫–æ–Ω–Ω—ã—Ö
          —Å—É–º–º, gamma-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ SARIMA-–ø—Ä–æ–≥–Ω–æ–∑–∞.
        </p>
      </section>
    </div>
  );
}
